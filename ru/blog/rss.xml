<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>RogueLibs Documentation Blog</title>
        <link>https://chasmical.github.io/RogueLibs/ru/blog</link>
        <description>RogueLibs Documentation Blog</description>
        <lastBuildDate>Tue, 15 Oct 2024 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>ru</language>
        <item>
            <title><![CDATA[Advice to SoR2 modders]]></title>
            <link>https://chasmical.github.io/RogueLibs/ru/blog/2024/10/15/advice-to-sor2-modders</link>
            <guid>https://chasmical.github.io/RogueLibs/ru/blog/2024/10/15/advice-to-sor2-modders</guid>
            <pubDate>Tue, 15 Oct 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[... I really did want to mod SoR2, but the current state of the code doesn't allow it. The excuse "It's just a demo/playtest" doesn't work here. I didn't test how optimized or buggy the game is, I only looked at the code itself. And it's a mess. It's a mess that I don't want to deal with. If you want to mod SoR2, then... good luck.]]></description>
            <content:encoded><![CDATA[<p><span style="font-size:0.9em;color:var(--ifm-color-emphasis-500)">(there was a lovecraftian-type story here that I wrote, but I was left unsatisfied with it, so I removed it; if&nbsp;you want, you can still find it and read it through GitHub's repo commit history)</span></p>
<p><img loading="lazy" src="https://chasmical.github.io/RogueLibs/ru/assets/images/my-bingo-card-a89ae239b07f2c9ed353cb37f0e35fb6.png" width="3747" height="1735" class="img_ev3q"></p>
<p>Several weeks prior to the demo, I thought it'd be fun to play a bingo game, centered around SoR2's code. I came up with a bunch of spaces, about both the good and the bad code. I announced that in SoR's Discord, and started slowly revealing the spaces on the cards. At first, one space a day, and then two spaces per day, as the demo's release date approached.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>примечание</div><div class="admonitionContent_BuS1"><p>Update (30/12/24): Ignore the "Directions are enums" space being checked on the left. At the time, I was just so happy to see an enum in the code, that I didn't even look at how that enum was used. I&nbsp;was not aware it was possible to misuse enums that badly...</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bingo-space-explanations">Bingo space explanations<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/10/15/advice-to-sor2-modders#bingo-space-explanations" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>When I was in the process of revealing bingo card spaces, I had plenty of time, so I provided detailed explanations for some of them.</p>
<!-- -->
<p>Good spaces are <b style="color:#4ed54e">green</b> (left card), Bad spaces are <b style="color:#d54e4e">red</b> (right card).</p>
<ul>
<li>
<p><b style="color:#d54e4e">X and Y instead of Vector2.</b> The entire purpose of structures is to group similar and relevant data together. This way the processor can address the data much faster. Another thing that structures can do - is align the fields' padding with the processor's architecture (that's what the JIT compiler does) for more efficient access. Structures can also be copied much quicker than individual components, - that's just the value type semantics. And, of course, Vector2 is much more readable and easier to understand than just a pair of separate components.</p>
</li>
<li>
<p><b style="color:#4ed54e">Argument validation.</b> Validating input data and throwing exceptions. Invalid state is the main cause of errors that are caused by other errors. An exception throw in a correct place (or even just a conditional statement) would stop the program, before it does anything that corrupts state. Sure, I understand that it'd be weird for a game to crash after just a single exception, but that's what exception handling is for (try-catch block).</p>
</li>
<li>
<p><b style="color:#d54e4e">Loop-switch sequence.</b> This one has <a href="https://en.wikipedia.org/wiki/Loop-switch_sequence" target="_blank" rel="noopener noreferrer">a Wikipedia article</a>, so I'll suggest you read it instead. Examples in SoR1: <code>Agent.LoadDialogue()</code>, <code>AgentHitbox.SetupBodyStrings()</code>, <code>InvSlot.SortItems()</code>, <code>InvSlot.SortUseItems()</code>, <code>LevelEditor.RefreshCustomCharacters()</code> (x2), <code>LevelEditor.SaveChunkData()</code>, <code>LevelEditor.OpenLoadExtra()</code>, <code>MouseCursorSets.SetupCursors()</code> (x2), <code>PoolsScene.SetupWalls()</code> (x2), <code>PoolsScene.DoInstantiate()</code>.</p>
</li>
<li>
<p><b style="color:#4ed54e">SPANS?!?!?.</b> Now this is quite a reach, I know. The purpose of <code>Span&lt;T&gt;</code> is to reduce the amount of unnecessary array/string allocations in synchronous operations. The performance improvement would be noticeable, and memory usage would go down by a lot, but that's only if all the libraries involved can handle this sort of data, and Unity doesn't know how to handle spans (or even <code>Memory&lt;T&gt;</code>). This is more of a "new .NET" thing, rather than a general code improvement. If one were to be looking for a .NET library for something, they'd definitely give more preference to ones that use spans. SoR doesn't have much of a "back-end" that could use this sort of improvement, so I wouldn't expect it.</p>
</li>
<li>
<p><b style="color:#d54e4e">Improper list population w/ excessive copying.</b> There is a way to populate a list very inefficiently, that involves <code>Insert</code>. And that's pretty much all there is to it. It's very inefficient, forcing the list to recopy the entire array just one item over, every time an item is added. Also, another few small, related things: <code>Add</code> in a loop is much less efficient than <code>AddRange</code>, - lists are good at copying collections. And lastly, lists shouldn't be used as queues, queues should be used as queues.</p>
</li>
<li>
<p><b style="color:#4ed54e">Version control (free!).</b> A free space! We already know that Matt is using version control (Unity's kind, but version control nonetheless). Version control is an important element in development of any project, even if you're the only developer. It helps keep track of the changes you made since the last release, allows you to easily backtrack and look back at old code, makes you think in terms of features and components instead of just doing whatever works and going along with it, and makes collaboration with others easy.</p>
</li>
<li>
<p><b style="color:#d54e4e">Enormous if-chain.</b> A lot of <code>if</code>s chained one after another (more than, like, 10). It never makes sense to have that many chained <code>if</code>s, - you either don't know what a <code>switch</code> statement is, or you messed up really badly with your program's structure.</p>
</li>
<li>
<p><b style="color:#4ed54e">Directions are enums.</b> In SoR1 directions are <strong>strings</strong>, - the most inefficient method anyone could ever think of. A beginner programmer's instinct should be to use small integers to represent directions, not strings! The overhead here is enormous even on the latest versions of .NET: comparison is 3x slower, memory usage is 2x greater (Note: interned strings in the SOH are negligible, but still...).</p>
</li>
<li>
<p><b style="color:#d54e4e">isAgent, isItem, isFire, isBullet, isObjectReal fields.</b> Instead of type-checking an object (<code>is</code> expression), Matt first uses one of these 11 fields, defined on <code>PlayfieldObject</code>, and only then casts an object to the needed type. It's completely unnecessary, as this doesn't eliminate the type-check, - the runtime still needs to be sure the object is of the correct type, and throws an exception if it isn't. These fields add an overhead of 11 bytes to each object, and don't do anything besides these unnecessarily complex type casts. It's just a bad, uninformed design decision, nothing too serious, since modders can still use type-checks in a correct way.</p>
</li>
</ul>
<!-- -->
<p>Festive, huh?</p>
<p>And that's all the explanations. I only had the time to explain 9 random spaces, before the demo dropped, and now I'm not nearly as motivated to do the rest, since I've got nothing to hype up.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-evil-code-prevails">The evil code prevails<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/10/15/advice-to-sor2-modders#the-evil-code-prevails" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка �на этот заголовок">​</a></h2>
<p>Needless to say, none of the <b style="color:#4ed54e">good</b> spaces, listed or otherwise, ended up being checked in the bingo. Aside from the 3 <b style="color:#4ed54e">FREE good</b> spaces, that is, but even they're under scrutiny (especially <b style="color:#4ed54e">OOP</b>).</p>
<p>I couldn't confirm a few <b style="color:#d54e4e">bad</b> spaces on my bingo card, since those ones required a deeper and more thorough investigation. It'd be easier to list the ones that were confirmed as <strong>NOT</strong> checked:</p>
<ul>
<li>
<p><b style="color:#d54e4e">Unrelated code.</b> This time only SoR2's stuff was added to the game. No irrelevant snippets or fragments of code blindly copied from elsewhere for unknown reasons.</p>
</li>
<li>
<p><b style="color:#d54e4e">Data clumps.</b> I couldn't find any methods that this term would apply to, since it specifically refers to variables and method parameters. Some parts of the code certainly do feel full of data-clumps, but they're all already grouped into classes.</p>
</li>
</ul>
<p>The rest of the <b style="color:#d54e4e">bad</b> spaces either were checked or are unconfirmed.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="state-of-the-game">State of the game<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/10/15/advice-to-sor2-modders#state-of-the-game" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>I really did want to mod SoR2, but the current state of the code doesn't allow it. The excuse "It's just a demo/playtest" doesn't work here. I didn't test how optimized or buggy the game is, I only looked at the code itself. And it's a mess. It's a mess that I don't want to deal with.</p>
<p>Regarding modding tooling that Matt promises: that would be completely different from the modding we did with SoR1. Waiting until Matt adds support for something is very different from implementing the thing yourself. He's an only developer, and his hands are already full with just the base game.</p>
<p>And finally, for me personally, the most interesting thing about modding is creating something, that's vastly different from the original. Something weird, extrinsic, grand, silly, weird. For something of that degree of peculiarity, you'd at least have to make use of C#'s more advanced constructs. And Matt outright refuses to use any, other than classes, methods and fields.</p>
<p>If you want to mod SoR2, then... good luck.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a-few-last-tidbits">A few last tidbits<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/10/15/advice-to-sor2-modders#a-few-last-tidbits" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>Apparently, in SoR2, gender is a bool variable (see <code>bool Agent.genderF</code>).</p>
<p>The only thing separating animals from humans is an <code>isAnimal</code> flag.</p>
<p>Boats are just water cars in SoR2's world. (all vehicles are instances of the <code>Car</code> class)</p>
<p>The code initializing outfit colors just couldn't be more wet or hardcoded.</p>
<p>Direction enums in SoR2 are awful and completely non-mathable. Take a look at this:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">enum</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">DirectionType</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> N</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> S</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> E</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> W</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> NE</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> SE</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> NW</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> SW</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Wait </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>North (0°), then South (180°), then East (90°), and then West (270°)... WTF.<br>
<!-- -->It's all out of order AND misaligned as well, due to <code>None</code> taking up the <code>0</code>.</p>
<p>Speaking of directions... The vehicles... They're.. uh... Their directions are both strings <strong>and</strong> numbers... There are no switches. Just ifs... Wet. It's so wet... It's painful to describe. It's arguably one of the most disgusting pieces of code in the game.</p>
<p>No signs of generics, interfaces, exception handling, structures, properties, events, reflection, attributes, try-finally, asynchronicity, object disposal, or any other above-basic-level constructs.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="goodbye">👋<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/10/15/advice-to-sor2-modders#goodbye" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>Once again, good luck trying to mod this. I'll be taking my leave here.</p>]]></content:encoded>
            <category>blog</category>
            <category>roguelibs</category>
            <category>sor</category>
            <category>sor2</category>
        </item>
        <item>
            <title><![CDATA[Discontinuing RogueLibs]]></title>
            <link>https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/discontinuing-roguelibs</link>
            <guid>https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/discontinuing-roguelibs</guid>
            <pubDate>Sat, 03 Feb 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[I've given it some thought, and decided to quit doing Streets of Rogue stuff. A lot of factors contributed to this decision... For some background you can read the "My Modding Journey" blog post. Here's the list, in order from most to least significant.]]></description>
            <content:encoded><![CDATA[<br>
<p>I've given it some thought, and decided to quit doing Streets of Rogue stuff.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-discontinue-roguelibs">Why discontinue RogueLibs?<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/discontinuing-roguelibs#why-discontinue-roguelibs" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>A lot of factors contributed to this decision...<br>
<!-- -->For some background, you can read the <a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/my-modding-journey"><em>"My Modding Journey"</em> blog post</a>.</p>
<!-- -->
<p>Here's the list, in order from most to least significant:</p>
<ol>
<li>
<p><strong>Loss of interest, and stagnancy.</strong> For 5 years now, I've focused all my efforts on Streets of Rogue. Almost everything I know is directly related to SoR. I need a change of pace. I want opportunities to learn other stuff, not related to SoR, as well.</p>
</li>
<li>
<p><strong>SoR's disgustingly awful code.</strong> I don't see many reasons to stick around with this kind of code any longer. I am so done with it, and I believe I deserve to work on stuff with better code.</p>
</li>
<li>
<p><strong>I feel overqualified for this.</strong> When I first started modding, SoR felt like a challenge. But now it's just an obstacle, stalling my growth, one that I would rather avoid instead of smashing through.</p>
</li>
<li>
<p><strong>Dissatisfaction with community management.</strong> To be honest, I had expected more involvement, more teasers and such, with more effort put into it. Other than the trailers, nothing really stood out. The disproportionate amount of hype I had for the sequel led to disappointment. And to be fair, that's on me, my expectations were too high.</p>
</li>
<li>
<p><strong>Responsibilities and stress.</strong> With the huge amount of issues and projects in progress, and no one else capable of handling them, it's getting rather stressful, and I really want some time for myself. And by that I don't mean just a small break, I mean finishing this chapter in my life, and moving forward. There's more to life, than just Streets of Rogue, after all.</p>
</li>
</ol>
<p>Arguably, some of these issues can be solved, but at that point it'd be more trouble than it's worth. Perhaps, I'll just find my happiness elsewhere. It can't be hard to find a place better than this.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="so-whats-gonna-happen">So, what's gonna happen?<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/discontinuing-roguelibs#so-whats-gonna-happen" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>I'll just stop working on SoR-related projects, and I'll archive their repositories. If you want to carry on the legacy, feel free to fork the repositories and continue working on these projects.</p>
<p>This documentation website and all currently released files and assets will remain available. The only exception is the newer beta of the website, the one at roguelibs.com, since it incurs some maintenance costs (web server, database, CMS, CDN, domain name). I'll wipe the data there and have it shut down. The <a href="https://github.com/Chasmical/roguelibs-web" target="_blank" rel="noopener noreferrer">source repository</a> is still available, so feel free to host one yourself.</p>
<p>The official Discord server can carry on without me. The Russian Discord server, though, will probably bite the dust, unless someone stands up and continues managing the Russian community.</p>
<hr>
<div style="display:flex;flex-wrap:wrap;justify-content:space-around"><div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="official-discord-server">Official Discord server<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/discontinuing-roguelibs#official-discord-server" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h4><iframe src="https://canary.discord.com/widget?id=187414758536773632&amp;theme=dark" width="320" height="300" allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe></div><div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="russian-discord-server">Russian Discord server<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/discontinuing-roguelibs#russian-discord-server" class="hash-link" aria-label="Прямая ссылка на этот заг�оловок" title="Прямая ссылка на этот заголовок">​</a></h4><iframe src="https://canary.discord.com/widget?id=766725034445635634&amp;theme=dark" width="320" height="300" allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe></div></div>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-will-i-do-next">What will I do next?<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/discontinuing-roguelibs#what-will-i-do-next" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>I've been thinking a lot about more artistic and creative hobbies that I could try, such as art and writing. I&nbsp;have near-zero experience in both (I've only done simple pixel art and technical writing), but I&nbsp;guess we'll see how it works out.</p>
<p>As for programming, <em>"once a programmer, always a programmer!"</em> as they say.<br>
<!-- -->Need to repeat a simple mundane task on your computer thousands of times? Easy-peasy!<br>
<!-- -->Need to reliably solve some parametrized problem or build cool graphs? Yes can do!<br>
<!-- -->Something's wrong with a program? That's... investigateable and maybe fixable.<br>
<!-- -->Need a website/app/bot for a new project? Not as easy, but possible.<br>
<!-- -->An annoying ad popup on a website? <em>*BOOM*</em> Deleted. <!-- -->😎</p>
<p>Since the website's repo is archived now, this blog won't be updated anymore.<br>
<!-- -->You can check on me through my <a href="https://github.com/Chasmical" target="_blank" rel="noopener noreferrer">GitHub profile</a> or my accounts on other platforms.</p>
<br>
<br>
<br>
<span style="font-size:1.5rem;font-weight:bold"><span>And now, I bid you farewell.</span><br><span>Mayhaps our paths will cross once more...</span></span>]]></content:encoded>
            <category>blog</category>
            <category>roguelibs</category>
            <category>sor</category>
            <category>sor2</category>
        </item>
        <item>
            <title><![CDATA[My Modding Journey]]></title>
            <link>https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/my-modding-journey</link>
            <guid>https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/my-modding-journey</guid>
            <pubDate>Sat, 03 Feb 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[I've given it some thought, and decided to quit doing Streets of Rogue stuff. And to finish this chapter in my life, I wrote this autobiographic post. TL;DR: Friction in the community made me realize that I don't actually care about Streets of Rogue.]]></description>
            <content:encoded><![CDATA[<br>
<p>I've given it some thought, and decided to quit doing Streets of Rogue stuff.<br>
<!-- -->And to finish this chapter in my life, I wrote this autobiographic post.</p>
<p><strong>TL;DR:</strong> <span class="spoiler_pIvY"><span class="contents_Gk2H">Friction in the community made me realize that I don't actually care about Streets of Rogue.</span></span></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="blog-retrospective">Blog Retrospective<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/my-modding-journey#blog-retrospective" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>It's been more than 2 years since the last post in this blog. Since then, my programming skills and knowledge have vastly improved, I've practiced a bit of technical writing, did some project management, web-development, learned several languages, and gotten familiar with more technical terms.</p>
<p>I've also reflected on the <a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor"><em>"What I hate about SoR"</em> post</a> and noted what I did wrong. There was too much critique, and not nearly enough examples to convey the full extent of how bad it is. I've pointed out problems, but poorly explained the reasons behind my proposed solutions. Sometimes the answers hid in the irony, and that's not something that should be in a constructive review.</p>
<p>I've considered writing a second part, <em>"What I hate about SoR. Part 2"</em>, where I would clearly document and explain all the issues in the game's code, but ended up not finishing it. Only 3 paragraphs worth of text (about 900 words), out of planned 20-30 paragraphs. Maybe all these pieces of advice will end up on my website at some point relatively far in the future.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="my-modding-journey">My Modding Journey<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/my-modding-journey#my-modding-journey" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>Anyway, let's go back to the very beginning...</p>
<!-- -->
<p>It was year 2016, and a YouTuber that I grew up watching has retired and stopped making videos. But then, 2 years later he comes back, revives the channel, makes like a hundred more videos and, not even a year later, retires once again. Among the new videos there were ~10 hours worth of gameplay recorded by one of his friends playing some weird roguelike game. That's how I found Streets of Rogue.</p>
<p>At the time (2019), I was fascinated by the possibilities that the game offered.<br>
<!-- -->"You can play as a Doctor and still kill people?! WOW!"<br>
<!-- -->"There are 17 unique, distinct characters?! WOW."<br>
<!-- -->"You can make custom characters?! And there are stealth mechanics?! WOW!"<br>
<!-- -->"The humour in the [original] flavor texts meshes so well with the graphics and music!"<br>
<!-- -->"But... The Russian localization is crap."</p>
<p>That was the first time I used my very basic understanding of programming and computers in general for something useful. I examined the game files, found a Localization folder, read the instructions, fixed the translations, and uploaded it as a guide on Steam. Soon after, I was contacted by someone who wanted to help, we wrote several extensive Steam guides together, and then were invited to join the Russian SoR Discord server, led by Starinis – two Twitch streamers. They had multiple other games' communities on the same server, but I didn't give it much thought back then.</p>
<p>During my stay on Starinis' server, I learned JavaScript and created a modular multi-purpose Discord bot for their server's various needs. It could crosspost <abbr title="Russian equivalent of Twitter, basically" style="cursor:help;text-decoration:underline 1px dashed #888;text-underline-offset:3px">VKontakte</abbr> posts, notify about new YouTube videos and Twitch streams, play music in voice channels, and it had some fun commands. In parallel with this, I tried myself in game dev, but ended up only making a cool unique inventory system. At the time I didn't know about value and reference types, so, kinda makes sense why I didn't make it far.</p>
<p>By the end of 2019, I tried my hand at modding SoR and created ECTD. Half a year later I questioned the mod-making strategy of the time, and started the BepInEx/RogueLibs revolution in modding. Then, with a firm foundation in place, I made some mods (CustomAudioLoader, RogueLibs, aToM, aToI), and edited and published some videos about them. During 2020, I gained plenty of experience with C#, Unity, ECS, graphics, IL code and patching.</p>
<p>Remember Starinis, Russian SoR Discord admins, from a couple of paragraphs back? They suddenly decided to take away the channels dedicated to separate games, and put all communities in just one single channel. That day it became clear, that they were collecting game communities like pokemon, just to promote their own Twitch career. The SoR community and I had to revolt. We founded our own server, with lots of channels for all topics, and we've never heard from Starinis again.</p>
<p>In 2021, I got back to JavaScript, made this documentation website, and released RogueLibs v3, which would last for a while, and created a bunch of cool and more extensive mods. Then I noticed that my interest in SoR started fading... But I wasn't ready to drop Streets of Rogue completely, so instead I focused my efforts on a proper website for RogueLibs, with all kinds of stuff that the big websites have: authorization, dynamic pages, CMS, API, CDN. The design and styling were tough, and in addition to that, the university was taking its toll on me, so things were going very slowly.</p>
<p>In the middle of 2022, I dropped out of university. I waited for two entire years, hoping they would eventually get serious with the programming courses, but they never did – they stuck with basic constructs, arithmetics, structures and pointers, all of which I had already learned myself three years earlier. Then I got a remote job as a web-developer, and I haven't had much free time ever since.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="discord-in-discord">Discord in Discord<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/my-modding-journey#discord-in-discord" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>Well, I guess, it all started with tinyBuild taking over SoR's community, in autumn of 2023. Due to some legal issues, they couldn't make the Russian Discord server official, and ended up creating 3 Russian channels on the official English server instead: #<em>rules</em>, #<em>general</em> and #<em>offtopic</em>. Predictably, everyone stayed on the Russian Discord server, but the existence of these 3 channels stumped the community's growth nonetheless.</p>
<p>I was a moderator on the official Discord server for about 4 months, but decided to leave, because I didn't like the amount of seemingly irresponsible shortcuts being taken, and I felt like my efforts would be better placed elsewhere. Strangely, the statement "Ignorance is bliss" seems to almost always apply to the backstage of SoR-related things: the code behind the game's mechanics, the markup behind the wiki, the management behind the community. And because I'm a perfectionist, that huge amount of little flaws and mistakes accumulated over time felt like an unliftable burden.</p>
<p>This friction made me rethink whether I want to be here at all. I reflected back on my past and realized that I don't have any sincere reason to be here anymore. I've lost interest in the game, and it feels like I've hit the ceiling, now stuck with SoR weighing me down, and unable to move forward.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="morals-of-the-story">Morals of the story<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/my-modding-journey#morals-of-the-story" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<ol>
<li>
<p>Think carefully and critically of the programming courses in universities/colleges. Consider learning programming on your own, and make sure to do some research on what you'll learn during the courses. But most importantly, don't pay attention to the pretentious buzz words, look for specific knowledge instead. Let me list what some of the courses in my university had:</p>
<div style="font-size:0.9rem;margin:1rem 0"><ul>
<li>"AI and Logical programming" – basic binary logic and graphs. There's no AI <em><strong>or</strong></em> programming.</li>
<li>"Basics of Cryptography" – Caesar and Vigenere ciphers, and then some math tricks.</li>
<li>"Internet Culture" – some memes, political discussions and stuff about aggression on the web.</li>
<li>"Programming languages and transpiling" – writing simple programs in Assembler.</li>
<li>"Creating modern crossplatform web apps" – just basic HTML, JS and PHP, also, really outdated.</li>
<li>"Database technologies" – the very basics of MySQL, not even functions or indexes.</li>
<li>"Computer Graphics" – textures, shaders and shadows. I literally learned how to do that and more in the first day of me learning OpenGL! And they are stretching it all out over two entire semesters!</li>
<li>"Neural networks" – no nodes, no networks, just computing weird numbers, almost as if cracking hashes.</li>
<li>"Modern programming technologies" – solving purely geological problems for some reason.</li>
</ul></div>
<p>I'm not saying to completely disregard higher education though. It gives you more career opportunities, and may be a deciding factor when applying to a job, so take that into consideration.</p>
</li>
<li>
<p>If all hope is lost, you can find hope elsewhere. It's better to find something else that you like, than to see the thing dear to you sink to the very bottom and turn into the opposite of what it stood for. It will save you the heartbreak. Just persist, think carefully and do what you think is right.</p>
<p>I know, this advice sounds a bit cynical. But that's the bias you get by listening to a human being – their opinion is shaped by their experiences and thoughts. And those are <strong>my</strong> experiences and thoughts. Think about them and take them into consideration, but never dismiss.</p>
</li>
<li>
<p>And lastly, don't underestimate your own subconciousness – when you learn the reasons behind your intuition, it may already be too late. For me, it often happens when coding – some part of the project suddenly feels off, but I can't understand why. Then, days or weeks later, I'd discover a fundamental flaw in the architectural design, directly related to that exact part that I doubted, forcing me to redo everything.</p>
</li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a href="https://chasmical.github.io/RogueLibs/ru/blog/2024/02/03/my-modding-journey#conclusion" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>Well, thanks for reading, I guess. <!-- -->😄<!-- --> I hope this post helped you in one way or another.</p>]]></content:encoded>
            <category>blog</category>
            <category>sor</category>
            <category>modding</category>
        </item>
        <item>
            <title><![CDATA[RogueLibs v3.5.0-beta]]></title>
            <link>https://chasmical.github.io/RogueLibs/ru/blog/2022/01/30/roguelibs-v3.5.0-beta</link>
            <guid>https://chasmical.github.io/RogueLibs/ru/blog/2022/01/30/roguelibs-v3.5.0-beta</guid>
            <pubDate>Sun, 30 Jan 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Information about the v3.5.0-beta]]></description>
            <content:encoded><![CDATA[<p>Today RogueLibs v3.5.0 enters a long beta, because there's a huge list of stuff that needs to be done before the release, mainly adding new custom interactions without adding more patches. You'll be able to download the beta version on <a href="https://github.com/Chasmical/RogueLibs/releases" target="_blank" rel="noopener noreferrer">RogueLibs' releases page</a>.</p>
<p>Just like the localization system in v3.1.0, v3.5.0 will completely replace the vanilla interactions system. The original code in these places is absolutely awful and inconsistent. So, we'll have to rewrite every single vanilla interaction to be moddable.</p>
<p><img loading="lazy" src="https://chasmical.github.io/RogueLibs/ru/assets/images/screenshot-b9e5ad9c8cef2ea5f300209d6747fa7e.png" width="1096" height="497" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>примечание</div><div class="admonitionContent_BuS1"><p>In RogueLibs v3.5.0-beta.X all of the objects will have this button. And by "that button" I mean the "I am patched!" one, not "Make Offering of Human Body" one. It will be removed from the v3.5.0 full release, of course.</p></div></div>
<p>Click "Read More" to see the entire to-do list.</p>
<!-- -->
<p>❌<code>Agent</code>, ✅<code>AirConditioner</code>, ✅<code>AlarmButton</code>, ✅<code>Altar</code>, ✅<code>AmmoDispenser</code>, ❌<code>ArcadeGame</code>, ❌<code>ATMMachine</code>, ❌<code>AugmentationBooth</code>, ✅<code>Barbecue</code>, ❌<code>BarbedWire</code>, ❌<code>Bars</code>, ❌(?)<code>BarStool</code>, ❌(?)<code>Bathtub</code>, ❌<code>Bed</code>, ❌(?)<code>Boulder</code>, ❌(?)<code>BoulderSmall</code>, ❌(?)<code>Bush</code>, ❌<code>CapsuleMachine</code>, ❌(?)<code>Chair</code>, ❌(?)<code>ChestBasic</code>, ❌<code>CloneMachine</code>, ❌<code>Computer</code>, ❌(?)<code>Counter</code>, ❌<code>Crate</code>, ❌(?)<code>Desk</code>, ❌<code>Door</code>, ❌<code>Elevator</code>, ❌(?)<code>ExplodingBarrel</code>, ❌<code>FireHydrant</code>, ❌(?)<code>FirePlace</code>, ❌(?)<code>FireSpewer</code>, ❌(?)<code>FlameGrate</code>, ❌(?)<code>FlamingBarrel</code>, ❌(?)<code>GasVent</code>, ❌<code>Generator</code>, ❌<code>Generator2</code>, ❌(?)<code>Gravestone</code>, ❌(?)<code>Item</code>, ❌<code>Jukebox</code>, ❌(?)<code>KillerPlant</code>, ❌(?)<code>Lamp</code>, ❌<code>LaserEmitter</code>, ❌<code>LoadoutMachine</code>, ❌(?)<code>LockdownWall</code>, ❌(?)<code>Manhole</code>, ❌(?)<code>MineCart</code>, ❌(?)<code>MovieScreen</code>, ❌<code>PawnShopMachine</code>, ❌(?)<code>Plant</code>, ❌<code>Podium</code>, ❌<code>PoliceBox</code>, ❌(?)<code>PoolTable</code>, ❌<code>PowerBox</code>, ❌<code>Refrigerator</code>, ❌<code>Safe</code>, ❌<code>SatelliteDish</code>, ❌(?)<code>SawBlade</code>, ❌<code>SecurityCam</code>, ❌(?)<code>Shelf</code>, ❌(?)<code>Sign</code>, ❌(?)<code>SlimeBarrel</code>, ❌(?)<code>SlimePuddle</code>, ❌<code>SlotMachine</code>, ❌(?)<code>Speaker</code>, ❌(?)<code>StartingPoint</code>, ❌(?)<code>Stove</code>, ❌(?)<code>SwitchBasic</code>, ❌(?)<code>Table</code>, ❌(?)<code>TableBig</code>, ❌(?)<code>Television</code>, ❌<code>Toilet</code>, ❌(?)<code>Train</code>, ❌<code>TrapDoor</code>, ❌(?)<code>TrashCan</code>, ❌(?)<code>Tree</code>, ❌(?)<code>Tube</code>, ❌<code>Turntables</code>, ❌<code>Turret</code>, ❌(?)<code>VendorCart</code>, ❌(?)<code>WasteBasket</code>, ❌<code>WaterPump</code>, ❌<code>Well</code>, ❌<code>Window</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Legend</div><div class="admonitionContent_BuS1"><p>❌ - not implemented, 🔹 - not tested, ✅ - implemented, (?) - may be tricky to implement.</p></div></div>
<p>See the <a href="https://discord.gg/m3zuHSwQw2" target="_blank" rel="noopener noreferrer">#modding channel</a> on the <a href="https://discord.com/invite/streetsofrogue" target="_blank" rel="noopener noreferrer">official SoR's Discord server</a> for an up-to-date information. The list in this article will not be updated.</p>]]></content:encoded>
            <category>roguelibs</category>
        </item>
        <item>
            <title><![CDATA[What I hate about SoR]]></title>
            <link>https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor</link>
            <guid>https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor</guid>
            <pubDate>Tue, 31 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[The code is really hard and wet.]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-code-is-really-hard-and-wet">The code is really hard and wet<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#the-code-is-really-hard-and-wet" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>.. Wait- No! I mean that the game is really <strong>hard</strong>coded! And the code is very <strong>WET</strong> - it's the opposite of the DRY (Don't Repeat Yourself) principle... It's pretty funny to say that though.</p>
<p>So, anyways, I decided to make a list of things that I hate about modding Streets of Rogue:</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="global-namespace">Global namespace<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#global-namespace" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>The first annoying thing that you notice, when you take a brief look into SoR modding, is that all of the game's types are in the global namespace. There's a couple of exceptions, though that's probably from the copy-pasted code.</p>
<p><img loading="lazy" src="https://imgur.com/HYDcvxx.png" alt="Global namespace (dnSpy)" class="img_ev3q"></p>
<p>I mean, come on, just organize stuff in namespaces! Like <code>StreetsOfRogue</code> for main stuff, <code>StreetsOfRogue.LevelGeneration</code> for stuff related to level generation, <code>StreetsOfRogue.Objects</code> for all classes derived from <code>ObjectReal</code> and etc.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a-lot-of-unused-types-and-members">A lot of unused types and members<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#a-lot-of-unused-types-and-members" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>There's a lot of stuff, that's not used in the game at all. Some part of it is just some test code. The other part - is not related to Streets of Rogue at all, and probably was copy-pasted from somewhere else.</p>
<p><img loading="lazy" src="https://imgur.com/XNeeF8Q.png" alt="A lot of unused types" class="img_ev3q">
<img loading="lazy" src="https://imgur.com/REhaTil.png" alt="3 unused fields in Agent class" class="img_ev3q"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bad-names">Bad names<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#bad-names" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p><del>Type and member names should be descriptive. I do understand that Matt was the only one developing the game and didn't expect anyone to mess with the game's code. I also understand that you would know your own code better that anyone else, but still...</del> Although, nevermind, there's probably a ton of comments in the source code, that we can't see in the compiled assembly.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="too-many-string-comparisons">Too many string comparisons<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#too-many-string-comparisons" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>After a couple of minutes of browsing through the code, you'll notice that there's way too many string comparisons. You know they're heavy on the performance. Sometimes they're in places where you don't even need strings, for example, in <code>Relationships</code> where you could have just used enumerations (actually, Matt used <strong>both</strong> enumerations and strings, for some weird reason).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="empty-strings">Empty strings<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#empty-strings" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>For some reason, <code>""</code> is used instead of <code>string.Empty</code>. And for some reason <code>""</code> in a lot of the code is equivalent to <code>null</code>. You know exactly what's wrong with that. In one case there <strong>is</strong> a string, that simply has zero length, in the other case - <strong>nothing</strong>, not even a string, just nothing. It's just plain wrong.</p>
<p><img loading="lazy" src="https://imgur.com/9rDQAe7.png" alt="&quot;&quot; used instead of string.Empty or null" class="img_ev3q"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="non-flexible-mechanics">Non-flexible mechanics<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#non-flexible-mechanics" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>For example, <code>Unlock</code> has three fields: <code>unavailable</code>, <code>onlyInCharacterCreation</code>, <code>freeItem</code>. How do you make something available only in Item Teleporter and not available anywhere else? Not only the fields are not descriptive, but they also function significantly differently - <code>unavailable</code> makes items unavailable anywhere, while <code>onlyInCharacterCreation</code> <em>apparently</em> makes an item available <strong>only</strong> in CC, and <code>freeItem</code> makes it available in Item Teleporter. You could have just named them <code>availableInGame</code>, <code>availableInCharacterCreation</code>, <code>availableInItemTeleporter</code>. Then their function and purpose is obvious.</p>
<p><img loading="lazy" src="https://imgur.com/gjnxvNM.png" alt="unavailable, onlyInCharacterCreation and freeItem fields" class="img_ev3q"></p>
<p>I spent <strong>dozens of hours</strong> converting that kind of system into something more maintainable: <code>Available</code>, <code>AvailableInCC</code> and <code>AvailableInItemTeleporter</code> - properties that you can find in RogueLibs. And even after that, <a href="https://github.com/Chasmical/RogueLibs/issues/40" target="_blank" rel="noopener noreferrer">there still were issues</a>. <em>I'm bad at discrete mathematics, that's why I had a hard time doing that.</em></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="hard-code">Hard code<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#hard-code" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>A lot of stuff in the game is so hardcoded, that it's almost impossible to add something completely new and unique. You'd have to modify code in a ton of places, even in places that you wouldn't even think to look in.<br>
<!-- -->I mean, why would you hardcode the amount of players in the game? Each player has a different field (<code>playerAgent</code>, <code>playerAgent2</code>, and so on). That's the only reason why creating a multiplayer game with more than 4 players is impossible.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="toolkit-2d-library">Toolkit 2D library<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#toolkit-2d-library" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>I spent <strong>months</strong> trying to figure out how this fucking library works! There's no documentation on it. I mean, there are a couple of guides on how to use it in Unity Editor, but there's nothing on how it works internally. There are way too many unused classes, methods, properties and features, and for some reason the classes are in the global namespace. I'm surprised that Matt even figured out how to use it.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disregard-of-common-programming-principles">Disregard of common programming principles<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#disregard-of-common-programming-principles" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>A lot of methods have way too many instructions in them and sometimes they do stuff that you wouldn't expect them to do. Just split these different features into different methods.<br>
<strong>KISS principle (Keep It Simple, Stupid)</strong>.</p>
<p>A lot of methods have a lot of repeating code. You can put that repeating code in a separate method. That will save you a ton of time writing new methods, plus, the code will be easier to read.<br>
<strong>DRY principle (Don't Repeat Yourself)</strong>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="binary-serialization">Binary serialization<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#binary-serialization" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p><img loading="lazy" src="https://imgur.com/bl0tEOj.png" alt="Comparison of raw binary data and XML-formatted file" class="img_ev3q"></p>
<p>Why would you use binary serialization? It's completely unreadable!<br>
<!-- -->Just use XML, JSON or whatever markup language you want, anything but raw binary data!</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="classes-are-used-like-structs">Classes are used like structs<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#classes-are-used-like-structs" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>Matt clearly doesn't understand the difference between reference and value types.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lack-of-properties">Lack of properties<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#lack-of-properties" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>Instead of constantly setting and updating fields' values in <code>Awake</code>, <code>Start</code> and other methods, you should just use properties. This way you won't have to constantly update fields' values, once you change one other field's value. The code will instantly become more maintainable.</p>
<p><img loading="lazy" src="https://imgur.com/gI7WV4I.png" alt="MyStart method sets up fields and is called in every other method" class="img_ev3q"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="virtual-methods">Virtual methods<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#virtual-methods" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>Instead of putting dozens of empty virtual methods in a base class and overriding them in a couple of derived types, you should use interfaces! That's literally what they were created for.</p>
<p><img loading="lazy" src="https://imgur.com/aKQA76v.png" alt="Empty virtual methods" class="img_ev3q"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lack-of-events">Lack of events<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#lack-of-events" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>Instead of checking for conditions of doing something on every frame update, you should use events. That's literally what they were created for. As a bonus, there's no 1-frame delay, that you get from checking conditions every frame. And also, you know, checking event conditions every frame is a little bit excessive and definitely uses way too much CPU.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="giant-for-loops">Giant <code>for</code> loops<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#giant-for-loops" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p><img loading="lazy" src="https://imgur.com/kY8gtia.png" alt="A lot of really big and inefficient loops" class="img_ev3q"></p>
<p>Why would you try to repeat the operation, if you know that the results will be exactly the same?</p>
<p><img loading="lazy" src="https://imgur.com/vjCshb5.png" alt="An unnecessary for loop" class="img_ev3q"></p>
<p>Why the hell would you write all of these giant <code>for</code> loops with a ton of conditions, <code>break</code>s and <code>continue</code>s and stuff like that, when there are already methods that do exactly that?<br>
<strong>Just use System.Linq extensions and List&lt;T&gt; methods!</strong></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor#conclusion" class="hash-link" aria-label="Прямая ссылка на этот �заголовок" title="Прямая ссылка на этот заголовок">​</a></h2>
<p>Well, that's it. For now, at least...</p>]]></content:encoded>
            <category>blog</category>
            <category>modding</category>
            <category>sor</category>
            <category>sor2</category>
        </item>
        <item>
            <title><![CDATA[RogueLibs v3.1.0]]></title>
            <link>https://chasmical.github.io/RogueLibs/ru/blog/2021/08/18/roguelibs-v3.1.0</link>
            <guid>https://chasmical.github.io/RogueLibs/ru/blog/2021/08/18/roguelibs-v3.1.0</guid>
            <pubDate>Wed, 18 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Completely replaced the vanilla localization system.]]></description>
            <content:encoded><![CDATA[<p>Today a new version of RogueLibs v3.1.0 was released!</p>
<p>A brand new localization system will completely replace the vanilla one!</p>
<ul>
<li>Fancy, easy-to-use XML files, for each language separately;</li>
<li>Fixed the bug with "E_" prefixes appearing in random places;</li>
<li>Custom languages support;</li>
<li>Community translations;</li>
<li>Automatic updates;</li>
<li>Live Reloading!</li>
</ul>
<p><img loading="lazy" src="https://i.imgur.com/XaNGCx7.png" alt="Locales opened in VSCode" class="img_ev3q"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="upgradingdowngrading-to-xml">Upgrading/downgrading to XML<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/18/roguelibs-v3.1.0#upgradingdowngrading-to-xml" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>On one hand, we lose some of th-, I mean, the <strong>one</strong> advantage of CSV files:</p>
<ul>
<li><strong>Small size.</strong><br>
<!-- -->Not as compact, as physically possible, but still, it has a relatively low data-to-size ratio, close to 1. The only non-data characters are commas, the surrounding quotes, double quotes inside of expressions and new lines.</li>
</ul>
<p>But on the other hand, we gain a ton of advantages of XML:</p>
<ul>
<li><strong>Easy to read.</strong><br>
<!-- -->Humans can open the file in a text editor, and it will automatically highlight the XML syntax.</li>
<li><strong>Easy to edit.</strong><br>
<!-- -->Modern text editors check for errors in XML, making it almost impossible to corrupt the file.</li>
<li><strong>Easy to parse.</strong><br>
<!-- -->Computers can easily parse XML files with the built-in <code>System.Xml.Serialization</code> (in case of C#). There's no need for any overcomplicated regular expressions used in the game.</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="categorizing-translations-by-language">Categorizing translations by language<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/18/roguelibs-v3.1.0#categorizing-translations-by-language" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>The vanilla game loads all languages at the same time, regardless of what language is selected.</p>
<p>RogueLibs will load only the ones, that are actually used: the selected one and the fallback one (default: English), that will be used in case an entry is missing in the selected language.</p>
<p>This loading strategy allows you to select from thousands of different localizations, without loading all of them at the same time.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="automatic-updates">Automatic updates<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/18/roguelibs-v3.1.0#automatic-updates" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>When you launch the game, RogueLibs will download a small "index" file with some metadata, and then it will decide what translations should be updated. Don't worry, it won't check for updates too frequently, just once every hour.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="community-translations">Community translations<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/18/roguelibs-v3.1.0#community-translations" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>Speaking of translations... <strong>The vanilla translations are terrible</strong>. I'm not sure what the situation is like with other languages, but russian localization is really bad:</p>
<ul>
<li>Some words are taken out of context. "Glass", as in "a glass wall", not as in "a glass of milk".</li>
<li>"Chunk Pack" was literally translated as a "pack" of "chunks". I'm not sure how to explain that, but it caused quite a lot of comotion in the russian community.</li>
<li>Some words are not translated at all. "Walkie-Talkie" is still a "Walkie-Talkie". What kind of translator were they even using? Every online translator I could find translated it correctly.</li>
<li>Some translation lines were shifted a couple of lines up or down, for some reason. As if someone was editing it in Excel.</li>
<li>There was also a ton of different styles. Sometimes "—" was used instead of "-", "…" instead of "..." and stuff like that. As if there were at least 3 different translators, one using Word, other one - Excel and another one - Notepad.</li>
<li>"Monkey Barrel" → "Обезьяна баррель". What the f***.</li>
<li>I spent about 2 days, working from morning to night, to fix all of that.</li>
</ul>
<p>And that's why RogueLibs will use community translations instead of official ones.</p>
<p>Feel free to contribute by checking the localization files yourself and making any necessary changes. The localization files are located <a href="https://github.com/Chasmical/RogueLibs/tree/main/RogueLibsCore/Resources" target="_blank" rel="noopener noreferrer">in here</a>. See more info on contributing to the project <a href="https://github.com/Chasmical/RogueLibs/blob/main/.github/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="live-reloading">Live Reloading<a href="https://chasmical.github.io/RogueLibs/ru/blog/2021/08/18/roguelibs-v3.1.0#live-reloading" class="hash-link" aria-label="Прямая ссылка на этот заголовок" title="Прямая ссылка на этот заголовок">​</a></h3>
<p>When you edit the localization files, the changes are reflected in the game immediately! Neat!</p>]]></content:encoded>
            <category>blog</category>
            <category>roguelibs</category>
        </item>
    </channel>
</rss>