<!doctype html>
<html lang="ru" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Advice to SoR2 modders | RogueLibs Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://chasmical.github.io/RogueLibs/ru/blog/2024/10/15/advice-to-sor2-modders"><meta data-rh="true" property="og:locale" content="ru"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="ru"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="ru"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Advice to SoR2 modders | RogueLibs Documentation"><meta data-rh="true" name="description" content="... I really did want to mod SoR2, but the current state of the code doesn&#x27;t allow it. The excuse &quot;It&#x27;s just a demo/playtest&quot; doesn&#x27;t work here. I didn&#x27;t test how optimized or buggy the game is, I only looked at the code itself. And it&#x27;s a mess. It&#x27;s a mess that I don&#x27;t want to deal with. If you want to mod SoR2, then... good luck."><meta data-rh="true" property="og:description" content="... I really did want to mod SoR2, but the current state of the code doesn&#x27;t allow it. The excuse &quot;It&#x27;s just a demo/playtest&quot; doesn&#x27;t work here. I didn&#x27;t test how optimized or buggy the game is, I only looked at the code itself. And it&#x27;s a mess. It&#x27;s a mess that I don&#x27;t want to deal with. If you want to mod SoR2, then... good luck."><meta data-rh="true" property="og:image" content="https://raw.githubusercontent.com/Chasmical/RogueLibs/refs/heads/main/website/blog/2024-10-15/my-bingo-card.png"><meta data-rh="true" name="twitter:image" content="https://raw.githubusercontent.com/Chasmical/RogueLibs/refs/heads/main/website/blog/2024-10-15/my-bingo-card.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-10-15T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/Chasmical"><meta data-rh="true" property="article:tag" content="blog,roguelibs,sor,sor2"><link data-rh="true" rel="icon" href="/RogueLibs/ru/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://chasmical.github.io/RogueLibs/ru/blog/2024/10/15/advice-to-sor2-modders"><link data-rh="true" rel="alternate" href="https://chasmical.github.io/RogueLibs/blog/2024/10/15/advice-to-sor2-modders" hreflang="en"><link data-rh="true" rel="alternate" href="https://chasmical.github.io/RogueLibs/ru/blog/2024/10/15/advice-to-sor2-modders" hreflang="ru"><link data-rh="true" rel="alternate" href="https://chasmical.github.io/RogueLibs/blog/2024/10/15/advice-to-sor2-modders" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/RogueLibs/ru/blog/rss.xml" title="RogueLibs Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/RogueLibs/ru/blog/atom.xml" title="RogueLibs Documentation Atom Feed"><link rel="stylesheet" href="/RogueLibs/ru/assets/css/styles.fd0968a6.css">
<script src="/RogueLibs/ru/assets/js/runtime~main.cd7bd7d2.js" defer="defer"></script>
<script src="/RogueLibs/ru/assets/js/main.0ba9528a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É</a></div><div class="announcementBar_mb4j" style="background-color:#FF5060;color:var(--ifm-color-white)" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><span style="font-size: 1rem;">‚ö∞Ô∏è RogueLibs has been discontinued. See more information in <a href="/RogueLibs/blog/2024/02/03/discontinuing-roguelibs">the latest blog post</a>. ‚ö∞Ô∏è</span></div></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—É—é –ø–∞–Ω–µ–ª—å" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/RogueLibs/ru/"><div class="navbar__logo"><img src="/RogueLibs/ru/img/logo-long.png" alt="RogueLibs Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/RogueLibs/ru/img/logo-long.png" alt="RogueLibs Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/RogueLibs/ru/docs/user/installation">–£—Å—Ç–∞–Ω–æ–≤–∫–∞</a><a class="navbar__item navbar__link" href="/RogueLibs/ru/docs/dev/getting-started">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/RogueLibs/ru/blog">–ë–ª–æ–≥</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>–†—É—Å—Å–∫–∏–π</a><ul class="dropdown__menu"><li><a href="/RogueLibs/blog/2024/10/15/advice-to-sor2-modders" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/RogueLibs/ru/blog/2024/10/15/advice-to-sor2-modders" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ru">–†—É—Å—Å–∫–∏–π</a></li></ul></div><a href="https://github.com/Chasmical/RogueLibs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É —Ç—ë–º–Ω—ã–º –∏ —Å–≤–µ—Ç–ª—ã–º —Ä–µ–∂–∏–º–æ–º (—Å–µ–π—á–∞—Å —Ç—ë–º–Ω—ã–π —Ä–µ–∂–∏–º)" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É —Ç—ë–º–Ω—ã–º –∏ —Å–≤–µ—Ç–ª—ã–º —Ä–µ–∂–∏–º–æ–º (—Å–µ–π—á–∞—Å —Ç—ë–º–Ω—ã–π —Ä–µ–∂–∏–º)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_brwN thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_r4Q1">New posts (2024‚Äì)</div><div style="margin-bottom:2rem;font-weight:bold;font-size:1.2rem"><a href="https://chsm.dev/blog" target="_blank" rel="noopener noreferrer" style="color:#fbb946">Blog moved to chsm.dev ü¢Ö</a></div><div class="sidebarItemTitle_r4Q1 margin-bottom--md">Blog archive (2022‚Äì24)</div><ul class="sidebarItemList_QwSx clean-list"><li class="sidebarItem_lnhn"><a aria-current="page" class="sidebarItemLink_yNGZ sidebarItemLinkActive_oSRm" href="/RogueLibs/ru/blog/2024/10/15/advice-to-sor2-modders">Advice to SoR2 modders</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/RogueLibs/ru/blog/2024/02/03/discontinuing-roguelibs">Discontinuing RogueLibs</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/RogueLibs/ru/blog/2024/02/03/my-modding-journey">My Modding Journey</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/RogueLibs/ru/blog/2022/01/30/roguelibs-v3.5.0-beta">RogueLibs v3.5.0-beta</a></li><li class="sidebarItem_lnhn"><a class="sidebarItemLink_yNGZ" href="/RogueLibs/ru/blog/2021/08/31/what-i-hate-about-sor">What I hate about SoR</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="... I really did want to mod SoR2, but the current state of the code doesn&#x27;t allow it. The excuse &quot;It&#x27;s just a demo/playtest&quot; doesn&#x27;t work here. I didn&#x27;t test how optimized or buggy the game is, I only looked at the code itself. And it&#x27;s a mess. It&#x27;s a mess that I don&#x27;t want to deal with. If you want to mod SoR2, then... good luck."><link itemprop="image" href="https://raw.githubusercontent.com/Chasmical/RogueLibs/refs/heads/main/website/blog/2024-10-15/my-bingo-card.png"><header><h1 class="title_f1Hy" itemprop="headline">Advice to SoR2 modders</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-10-15T00:00:00.000Z" itemprop="datePublished">15 –æ–∫—Ç—è–±—Ä—è 2024 –≥.</time> ¬∑ <!-- -->9 –º–∏–Ω. —á—Ç–µ–Ω–∏—è</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/Chasmical" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/Chasmical.png" alt="Abbysssal" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Chasmical" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Abbysssal</span></a></div><small class="avatar__subtitle" itemprop="description">Creator of RogueLibs</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p><span style="font-size:0.9em;color:var(--ifm-color-emphasis-500)">(there was a lovecraftian-type story here that I wrote, but I was left unsatisfied with it, so I removed it; if¬†you want, you can still find it and read it through GitHub&#x27;s repo commit history)</span></p>
<p><img loading="lazy" src="/RogueLibs/ru/assets/images/my-bingo-card-a89ae239b07f2c9ed353cb37f0e35fb6.png" width="3747" height="1735" class="img_ev3q"></p>
<p>Several weeks prior to the demo, I thought it&#x27;d be fun to play a bingo game, centered around SoR2&#x27;s code. I came up with a bunch of spaces, about both the good and the bad code. I announced that in SoR&#x27;s Discord, and started slowly revealing the spaces on the cards. At first, one space a day, and then two spaces per day, as the demo&#x27;s release date approached.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>–ø—Ä–∏–º–µ—á–∞–Ω–∏–µ</div><div class="admonitionContent_BuS1"><p>Update (30/12/24): Ignore the &quot;Directions are enums&quot; space being checked on the left. At the time, I was just so happy to see an enum in the code, that I didn&#x27;t even look at how that enum was used. I¬†was not aware it was possible to misuse enums that badly...</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bingo-space-explanations">Bingo space explanations<a href="#bingo-space-explanations" class="hash-link" aria-label="–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫" title="–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫">‚Äã</a></h2>
<p>When I was in the process of revealing bingo card spaces, I had plenty of time, so I provided detailed explanations for some of them.</p>
<!-- -->
<p>Good spaces are <b style="color:#4ed54e">green</b> (left card), Bad spaces are <b style="color:#d54e4e">red</b> (right card).</p>
<ul>
<li>
<p><b style="color:#d54e4e">X and Y instead of Vector2.</b> The entire purpose of structures is to group similar and relevant data together. This way the processor can address the data much faster. Another thing that structures can do - is align the fields&#x27; padding with the processor&#x27;s architecture (that&#x27;s what the JIT compiler does) for more efficient access. Structures can also be copied much quicker than individual components, - that&#x27;s just the value type semantics. And, of course, Vector2 is much more readable and easier to understand than just a pair of separate components.</p>
</li>
<li>
<p><b style="color:#4ed54e">Argument validation.</b> Validating input data and throwing exceptions. Invalid state is the main cause of errors that are caused by other errors. An exception throw in a correct place (or even just a conditional statement) would stop the program, before it does anything that corrupts state. Sure, I understand that it&#x27;d be weird for a game to crash after just a single exception, but that&#x27;s what exception handling is for (try-catch block).</p>
</li>
<li>
<p><b style="color:#d54e4e">Loop-switch sequence.</b> This one has <a href="https://en.wikipedia.org/wiki/Loop-switch_sequence" target="_blank" rel="noopener noreferrer">a Wikipedia article</a>, so I&#x27;ll suggest you read it instead. Examples in SoR1: <code>Agent.LoadDialogue()</code>, <code>AgentHitbox.SetupBodyStrings()</code>, <code>InvSlot.SortItems()</code>, <code>InvSlot.SortUseItems()</code>, <code>LevelEditor.RefreshCustomCharacters()</code> (x2), <code>LevelEditor.SaveChunkData()</code>, <code>LevelEditor.OpenLoadExtra()</code>, <code>MouseCursorSets.SetupCursors()</code> (x2), <code>PoolsScene.SetupWalls()</code> (x2), <code>PoolsScene.DoInstantiate()</code>.</p>
</li>
<li>
<p><b style="color:#4ed54e">SPANS?!?!?.</b> Now this is quite a reach, I know. The purpose of <code>Span&lt;T&gt;</code> is to reduce the amount of unnecessary array/string allocations in synchronous operations. The performance improvement would be noticeable, and memory usage would go down by a lot, but that&#x27;s only if all the libraries involved can handle this sort of data, and Unity doesn&#x27;t know how to handle spans (or even <code>Memory&lt;T&gt;</code>). This is more of a &quot;new .NET&quot; thing, rather than a general code improvement. If one were to be looking for a .NET library for something, they&#x27;d definitely give more preference to ones that use spans. SoR doesn&#x27;t have much of a &quot;back-end&quot; that could use this sort of improvement, so I wouldn&#x27;t expect it.</p>
</li>
<li>
<p><b style="color:#d54e4e">Improper list population w/ excessive copying.</b> There is a way to populate a list very inefficiently, that involves <code>Insert</code>. And that&#x27;s pretty much all there is to it. It&#x27;s very inefficient, forcing the list to recopy the entire array just one item over, every time an item is added. Also, another few small, related things: <code>Add</code> in a loop is much less efficient than <code>AddRange</code>, - lists are good at copying collections. And lastly, lists shouldn&#x27;t be used as queues, queues should be used as queues.</p>
</li>
<li>
<p><b style="color:#4ed54e">Version control (free!).</b> A free space! We already know that Matt is using version control (Unity&#x27;s kind, but version control nonetheless). Version control is an important element in development of any project, even if you&#x27;re the only developer. It helps keep track of the changes you made since the last release, allows you to easily backtrack and look back at old code, makes you think in terms of features and components instead of just doing whatever works and going along with it, and makes collaboration with others easy.</p>
</li>
<li>
<p><b style="color:#d54e4e">Enormous if-chain.</b> A lot of <code>if</code>s chained one after another (more than, like, 10). It never makes sense to have that many chained <code>if</code>s, - you either don&#x27;t know what a <code>switch</code> statement is, or you messed up really badly with your program&#x27;s structure.</p>
</li>
<li>
<p><b style="color:#4ed54e">Directions are enums.</b> In SoR1 directions are <strong>strings</strong>, - the most inefficient method anyone could ever think of. A beginner programmer&#x27;s instinct should be to use small integers to represent directions, not strings! The overhead here is enormous even on the latest versions of .NET: comparison is 3x slower, memory usage is 2x greater (Note: interned strings in the SOH are negligible, but still...).</p>
</li>
<li>
<p><b style="color:#d54e4e">isAgent, isItem, isFire, isBullet, isObjectReal fields.</b> Instead of type-checking an object (<code>is</code> expression), Matt first uses one of these 11 fields, defined on <code>PlayfieldObject</code>, and only then casts an object to the needed type. It&#x27;s completely unnecessary, as this doesn&#x27;t eliminate the type-check, - the runtime still needs to be sure the object is of the correct type, and throws an exception if it isn&#x27;t. These fields add an overhead of 11 bytes to each object, and don&#x27;t do anything besides these unnecessarily complex type casts. It&#x27;s just a bad, uninformed design decision, nothing too serious, since modders can still use type-checks in a correct way.</p>
</li>
</ul>
<!-- -->
<p>Festive, huh?</p>
<p>And that&#x27;s all the explanations. I only had the time to explain 9 random spaces, before the demo dropped, and now I&#x27;m not nearly as motivated to do the rest, since I&#x27;ve got nothing to hype up.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-evil-code-prevails">The evil code prevails<a href="#the-evil-code-prevails" class="hash-link" aria-label="–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫" title="–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞  –Ω–∞ —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫">‚Äã</a></h2>
<p>Needless to say, none of the <b style="color:#4ed54e">good</b> spaces, listed or otherwise, ended up being checked in the bingo. Aside from the 3 <b style="color:#4ed54e">FREE good</b> spaces, that is, but even they&#x27;re under scrutiny (especially <b style="color:#4ed54e">OOP</b>).</p>
<p>I couldn&#x27;t confirm a few <b style="color:#d54e4e">bad</b> spaces on my bingo card, since those ones required a deeper and more thorough investigation. It&#x27;d be easier to list the ones that were confirmed as <strong>NOT</strong> checked:</p>
<ul>
<li>
<p><b style="color:#d54e4e">Unrelated code.</b> This time only SoR2&#x27;s stuff was added to the game. No irrelevant snippets or fragments of code blindly copied from elsewhere for unknown reasons.</p>
</li>
<li>
<p><b style="color:#d54e4e">Data clumps.</b> I couldn&#x27;t find any methods that this term would apply to, since it specifically refers to variables and method parameters. Some parts of the code certainly do feel full of data-clumps, but they&#x27;re all already grouped into classes.</p>
</li>
</ul>
<p>The rest of the <b style="color:#d54e4e">bad</b> spaces either were checked or are unconfirmed.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="state-of-the-game">State of the game<a href="#state-of-the-game" class="hash-link" aria-label="–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫" title="–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫">‚Äã</a></h2>
<p>I really did want to mod SoR2, but the current state of the code doesn&#x27;t allow it. The excuse &quot;It&#x27;s just a demo/playtest&quot; doesn&#x27;t work here. I didn&#x27;t test how optimized or buggy the game is, I only looked at the code itself. And it&#x27;s a mess. It&#x27;s a mess that I don&#x27;t want to deal with.</p>
<p>Regarding modding tooling that Matt promises: that would be completely different from the modding we did with SoR1. Waiting until Matt adds support for something is very different from implementing the thing yourself. He&#x27;s an only developer, and his hands are already full with just the base game.</p>
<p>And finally, for me personally, the most interesting thing about modding is creating something, that&#x27;s vastly different from the original. Something weird, extrinsic, grand, silly, weird. For something of that degree of peculiarity, you&#x27;d at least have to make use of C#&#x27;s more advanced constructs. And Matt outright refuses to use any, other than classes, methods and fields.</p>
<p>If you want to mod SoR2, then... good luck.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a-few-last-tidbits">A few last tidbits<a href="#a-few-last-tidbits" class="hash-link" aria-label="–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫" title="–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫">‚Äã</a></h2>
<p>Apparently, in SoR2, gender is a bool variable (see <code>bool Agent.genderF</code>).</p>
<p>The only thing separating animals from humans is an <code>isAnimal</code> flag.</p>
<p>Boats are just water cars in SoR2&#x27;s world. (all vehicles are instances of the <code>Car</code> class)</p>
<p>The code initializing outfit colors just couldn&#x27;t be more wet or hardcoded.</p>
<p>Direction enums in SoR2 are awful and completely non-mathable. Take a look at this:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">enum</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">DirectionType</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> N</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> S</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> E</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> W</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> NE</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> SE</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> NW</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> SW</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Wait </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>North (0¬∞), then South (180¬∞), then East (90¬∞), and then West (270¬∞)... WTF.<br>
<!-- -->It&#x27;s all out of order AND misaligned as well, due to <code>None</code> taking up the <code>0</code>.</p>
<p>Speaking of directions... The vehicles... They&#x27;re.. uh... Their directions are both strings <strong>and</strong> numbers... There are no switches. Just ifs... Wet. It&#x27;s so wet... It&#x27;s painful to describe. It&#x27;s arguably one of the most disgusting pieces of code in the game.</p>
<p>No signs of generics, interfaces, exception handling, structures, properties, events, reflection, attributes, try-finally, asynchronicity, object disposal, or any other above-basic-level constructs.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="goodbye">üëã<a href="#goodbye" class="hash-link" aria-label="–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫" title="–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫">‚Äã</a></h2>
<p>Once again, good luck trying to mod this. I&#x27;ll be taking my leave here.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>–¢–µ–≥–∏:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/RogueLibs/ru/blog/tags/blog">blog</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/RogueLibs/ru/blog/tags/roguelibs">roguelibs</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/RogueLibs/ru/blog/tags/sor">sor</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/RogueLibs/ru/blog/tags/sor-2">sor2</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ—Å—Ç–∞ –±–ª–æ–≥–∞"><a class="pagination-nav__link pagination-nav__link--next" href="/RogueLibs/ru/blog/2024/02/03/discontinuing-roguelibs"><div class="pagination-nav__sublabel">–ü—Ä–µ–¥—ã–¥—É—â–∏–π –ø–æ—Å—Ç</div><div class="pagination-nav__label">Discontinuing RogueLibs</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#bingo-space-explanations" class="table-of-contents__link toc-highlight">Bingo space explanations</a></li><li><a href="#the-evil-code-prevails" class="table-of-contents__link toc-highlight">The evil code prevails</a></li><li><a href="#state-of-the-game" class="table-of-contents__link toc-highlight">State of the game</a></li><li><a href="#a-few-last-tidbits" class="table-of-contents__link toc-highlight">A few last tidbits</a></li><li><a href="#goodbye" class="table-of-contents__link toc-highlight">üëã</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/RogueLibs/ru/docs/intro">–í–≤–µ–¥–µ–Ω–∏–µ</a></li></ul></div><div class="col footer__col"><div class="footer__title">–°–æ–æ–±—â–µ—Å—Ç–≤–æ</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/streetsofrogue" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord Streets of Rogue<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">–ë–æ–ª—å—à–µ</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Chasmical/RogueLibs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 RogueLibs. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>