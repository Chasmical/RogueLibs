(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[279],{8515:function(t,e,n){"use strict";n.r(e),n.d(e,{contentTitle:function(){return x},default:function(){return E},frontMatter:function(){return b},metadata:function(){return S},toc:function(){return w}});var r=n(2122),o=n(9756),i=n(7294),l=n(3905),u=n(4996),a=n(2823);function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var p=n(5420);function d(t){var e=t.defaultValues,n=t.defaultValuesLookup,r=t.minChoices,o=t.maxChoices,l=t.lockChoices,u=t.group,a=t.onChange,c=null!=r?r:0,s=null!=o?o:1,d=function(t,e){if(t&&t.includes(";"))throw new Error("Storage slot name cannot contain ';'!");var n=(0,i.useContext)(p.Do),r=function(e,r){"function"==typeof e&&(e=e(l)),u(e),null!=t&&r&&(null!=e?n.set(t,e.join(";")):n.delete(t))},o=(0,i.useState)((function(){var t;return"function"==typeof e&&(e=e()),null!=(t=e)?t:[]})),l=o[0],u=o[1];(0,i.useEffect)((function(){var o;if(null==t)return function(){};var i=n.get(t);return null!=i?r(i.split(";"),!1):r(null!=(o=e)?o:[],!0),n.subscribe(a),function(){return n.unsubscribe(a)}}),[n]);var a=function(e){e.slotName==t&&u(e.value?e.value.split(";"):[])};return[l,function(t){r(t,!0)}]}(u,(function(){if("function"==typeof e&&(e=e()),null==e&&(e=[],"function"==typeof n&&(n=n()),n))for(var t=n.filter((function(t){return void 0!==t})),r=Math.min(t.length,c),o=0;o<r;o++)e.push(t[o]);if(Array.isArray(e)||(e=[e]),e.length<c||e.length>s)throw new Error("Invalid default values count: "+c+" \u2264 "+e.length+" \u2264 "+s);if(l&&c==s)throw new Error("Cannot lock choices when Min and Max choices are equal.");return e})),m=d[0],y=d[1],v=function(t){if(!(m.includes(t)||l&&m.length>=s)){for(;m.length>=s;)m.shift();var e=m.concat(t);y(e),a&&a(e)}},f=function(t){var e=m.indexOf(t);if(-1!=e&&!(m.length<=c)){var n=m.slice();n.splice(e,1),y(n),a&&a(n)}};return[m,{add:v,remove:f,toggle:function(t){m.includes(t)?f(t):v(t)},set:function(t){if((t=t.filter((function(t,e,n){return n.indexOf(t)==e}))).length!=m.length||!t.every((function(t,e){return m.indexOf(t)==e}))){if(t.length<c||t.length>s)throw new Error("Invalid default values count: "+c+" \u2264 "+t.length+" \u2264 "+s);y(t),a&&a(t)}},isLocked:function(t){if(!l)return!1;var e=m.includes(t);return m.length==(e?c:s)}}]}var m=n(6010),y="row_2biz",v="toolbar_1xeL",f=["items","children","width","interactable","type","onClick","group"];function g(t,e,n){for(var r,o=t||[],l=s(i.Children.toArray(e));!(r=l()).done;){var u,a=r.value;"InventorySlot"===(null==a||null==(u=a.props)?void 0:u.mdxType)&&o.push(Object.assign({},a.props))}if(n)for(var c=o.length;c<n;c++)o.push({interactable:!1});return o}function h(t){var e=t.items,n=t.children,l=t.width,u=t.interactable,c=t.type,s=t.onClick,p=t.group,h=(0,o.Z)(t,f),k=g(e,n,l),I=p?"inventory."+p:void 0,T=d(Object.assign({},h,{group:I,defaultValuesLookup:function(){return k.map((function(t){return t.uid}))}})),Z=T[0],b=T[1],x=function(t,e){u&&b.toggle(e),s&&s({uid:e,index:t})};return i.createElement("div",{className:(0,m.Z)(y,"toolbar"==c&&v)},k.map((function(t,e){return u&&void 0===t.interactable&&(t.interactable=!0),t.uid&&(Z.includes(t.uid)?t.type="selected":b.isLocked(t.uid)&&(t.type="locked")),"toolbar"==c&&(t.tooltip=e+1,t.tooltipColor=void 0),i.createElement(a.Z,(0,r.Z)({key:e},t,{onClick:function(){return void 0!==t.uid&&x(e,t.uid)}}))})))}var k="container_1tQ_",I=["items","children","height","width","interactable","onClick","group"];function T(t){var e=t.items,n=t.children,r=t.height,l=t.width,u=t.interactable,a=t.onClick,c=t.group,p=(0,o.Z)(t,I),m=function(t,e,n,r){var o=[],l=[],u=function(t){if(r)for(var e=l.length;e<r;e++)l.push({interactable:!1});a(t)},a=function(t){o.push({items:l,type:t||"normal"}),l=[]};if(t)for(var c,p=s(t);!(c=p()).done;){var d=c.value;if(Array.isArray(d)){l.length>0&&u();for(var m,y=s(d);!(m=y()).done;){var v=m.value;l.push(v)}u()}else l.push(d),l.length===r&&u()}l.length>0&&u();for(var f,h=s(i.Children.toArray(e));!(f=h()).done;){var k,I=f.value,T=null==I||null==(k=I.props)?void 0:k.mdxType;if("InventorySlot"===T)l.push(Object.assign({},I.props)),l.length===r&&u();else if("InventoryRow"===T){var Z;l.length>0&&u();var b=g(I.props.items,I.props.children,I.props.width||r);(Z=l).push.apply(Z,b),a(I.props.type)}}if(l.length>0&&u(),n)for(var x=o.length;x<n;x++){for(var S=0;S<(r||1);S++)l.push({interactable:!1});u()}return o}(e,n,r,l),y=c?"inventory."+c:void 0,v=d(Object.assign({},p,{group:y,defaultValuesLookup:function(){return m.map((function(t){return t.items})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.uid}))}})),f=v[0],T=v[1],Z=function(t,e,n){u&&T.toggle(n),a&&a({uid:n,row:t,column:e})};return i.createElement("div",{className:k},m.map((function(t,e){for(var n,r=s(t.items);!(n=r()).done;){var o=n.value;u&&void 0===o.interactable&&(o.interactable=!0),o.uid&&(f.includes(o.uid)?o.type="selected":T.isLocked(o.uid)&&(o.type="locked"))}return i.createElement(h,{key:e,type:t.type,items:t.items,onClick:function(t){return Z(e,t.index,t.uid)}})})))}var Z=["components"],b={},x="Test Page",S={type:"mdx",permalink:"/RogueLibs/ru/test",source:"@site/src/pages/test.mdx"},w=[{value:"<code>InventoryRow</code>",id:"inventoryrow",children:[]},{value:"<code>InventoryRow</code> (<code>type=&quot;toolbar&quot;</code>)",id:"inventoryrow-typetoolbar",children:[]},{value:"<code>InventoryGrid</code>",id:"inventorygrid",children:[]}],C={toc:w};function E(t){var e=t.components,n=(0,o.Z)(t,Z);return(0,l.kt)("wrapper",(0,r.Z)({},C,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"test-page"},"Test Page"),(0,l.kt)("h2",{id:"inventoryrow"},(0,l.kt)("inlineCode",{parentName:"h2"},"InventoryRow")),(0,l.kt)(h,{interactable:!0,width:6,mdxType:"InventoryRow"},(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"1",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"2",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{interactable:!1,mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"3",mdxType:"InventorySlot"})),(0,l.kt)("h2",{id:"inventoryrow-typetoolbar"},(0,l.kt)("inlineCode",{parentName:"h2"},"InventoryRow")," (",(0,l.kt)("inlineCode",{parentName:"h2"},'type="toolbar"'),")"),(0,l.kt)(h,{interactable:!0,type:"toolbar",width:6,minChoices:1,maxChoices:2,lockChoices:!0,mdxType:"InventoryRow"},(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"1",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),count:50,uid:"2",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{interactable:!1,mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),tooltip:"$13",uid:"3",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),tooltip:"$25",uid:"4",mdxType:"InventorySlot"})),(0,l.kt)("h2",{id:"inventorygrid"},(0,l.kt)("inlineCode",{parentName:"h2"},"InventoryGrid")),(0,l.kt)(T,{group:"grid2",interactable:!0,width:4,mdxType:"InventoryGrid"},(0,l.kt)(h,{mdxType:"InventoryRow"},(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"1",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),count:50,uid:"2",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{interactable:!1,mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),tooltip:"$13",uid:"3",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"4",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"5",mdxType:"InventorySlot"})),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),tooltip:"$13",uid:"6",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"7",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"8",mdxType:"InventorySlot"})),(0,l.kt)("br",null),(0,l.kt)(T,{group:"grid2",interactable:!0,width:4,mdxType:"InventoryGrid"},(0,l.kt)(h,{mdxType:"InventoryRow"},(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"1",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),count:50,uid:"2",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{interactable:!1,mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),tooltip:"$13",uid:"3",mdxType:"InventorySlot"})),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),tooltip:"$13",uid:"6",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"7",mdxType:"InventorySlot"})),(0,l.kt)("br",null),(0,l.kt)(T,{group:"grid1",interactable:!0,width:4,mdxType:"InventoryGrid"},(0,l.kt)(h,{mdxType:"InventoryRow"},(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"1",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),count:50,uid:"2",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{interactable:!1,mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),tooltip:"$13",uid:"3",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"4",mdxType:"InventorySlot"}),(0,l.kt)(a.Z,{sprite:(0,u.Z)("/img/TestItem.png"),uid:"5",mdxType:"InventorySlot"}))))}E.isMDXComponent=!0},2823:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var r=n(7294),o=n(4996),i="container_NKD0",l="slot_PnA2",u="hoverslot_1P8J",a="sprite_26gF",c="tooltip_o3oT",s="count_2_VC";function p(t){var e=t.sprite,n=t.tooltip,p=t.tooltipColor,d=t.count,m=t.countColor,y=t.interactable,v=t.type,f=t.onClick;return v=v||"normal",r.createElement("div",{className:i,onClick:f,style:{cursor:y?"pointer":"inherit"}},y&&r.createElement("img",{key:"hoverslot",className:u,src:(0,o.Z)("/img/components/InventorySlot/"+v+"Hover.png")}),r.createElement("img",{key:"slot",className:l,src:(0,o.Z)("/img/components/InventorySlot/"+v+".png")}),e&&r.createElement("img",{key:"sprite",style:{opacity:"locked"==v?.15625:1},className:a,src:e}),n&&r.createElement("span",{key:"tooltip",className:c},r.createElement("span",{style:{color:p||"#FFED00"}},n)),d&&r.createElement("span",{key:"count",className:s},r.createElement("span",{style:{color:m||"#FFFFFF"}},d)))}},5420:function(t,e,n){"use strict";n.d(e,{Do:function(){return u},Xq:function(){return a}});var r=n(7294),o=n(3018),i="roguestorage.";function l(){var t=(0,r.useState)(null),e=t[0],n=t[1],l=(0,r.useState)([]),u=l[0],a=(l[1],(0,r.useCallback)((function(t,r){if(null!==e){e[t]=r,(0,o.WA)("roguestorage."+t).set(r),n(e);var i={slotName:t,value:r};u.forEach((function(t){return t(i)}))}}),[e]));return(0,r.useEffect)((function(){var t={};try{(0,o._f)().forEach((function(e){if(e.startsWith(i)){var n=e.substring(i.length),r=(0,o.WA)(e).get();null!==r&&(t[n]=r)}})),n(t)}catch(e){console.error(e)}console.log("Storage set")}),[]),{get:function(t){return n=t,null===e?null:null!=(r=e[n])?r:null;var n,r},set:function(t,e){return a(t,e)},delete:function(t){return function(t){if(null!==e){delete e[t],(0,o.WA)("roguestorage."+t).del(),n(e);var r={slotName:t,value:null};u.forEach((function(t){return t(r)}))}}(t)},subscribe:function(t){return u.push(t)},unsubscribe:function(t){var e=u.indexOf(t);-1!=e&&u.splice(e,1)}}}var u=r.createContext({});function a(t){var e=t.children,n=l();return r.createElement(u.Provider,{value:n},e)}}}]);