(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[493],{4214:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var i=a(7294),n=a(1756);function r(e){var t=e.children,a=e.language;return i.createElement(n.Z,{className:"language-"+(a||"csharp")},t.replace(/\t/g,"    "))}},9309:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var i=a(2122),n=a(9756),r=a(7294),l=["children"];function s(e){var t=e.children,a=(0,n.Z)(e,l);return r.createElement("div",(0,i.Z)({role:"tabpanel"},a),t)}},8952:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var i=a(7294),n=a(9443);var r=function(){var e=(0,i.useContext)(n.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},l=a(6010),s="tabItem_2O3c",u="tabItemActive_Fpbe",o="tab_1pgU";var c=37,b=39;var d=function(e){var t=e.lazy,a=e.block,n=e.defaultValue,d=e.values,m=e.groupId,g=e.className,p=r(),f=p.tabGroupChoices,h=p.setTabGroupChoices,v=(0,i.useState)(n),k=v[0],y=v[1],T=i.Children.toArray(e.children),C=[];if(null!=m){var N=f[m];null!=N&&N!==k&&d.some((function(e){return e.value===N}))&&y(N)}var x=function(e){var t=e.currentTarget,a=C.indexOf(t),i=d[a].value;y(i),null!=m&&(h(m,i),setTimeout((function(){var e,a,i,n,r,l,s,o;(e=t.getBoundingClientRect(),a=e.top,i=e.left,n=e.bottom,r=e.right,l=window,s=l.innerHeight,o=l.innerWidth,a>=0&&r<=o&&n<=s&&i>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(u),setTimeout((function(){return t.classList.remove(u)}),2e3))}),150))},w=function(e){var t,a;switch(e.keyCode){case b:var i=C.indexOf(e.target)+1;a=C[i]||C[0];break;case c:var n=C.indexOf(e.target)-1;a=C[n]||C[C.length-1]}null==(t=a)||t.focus()},A=function(e,t){return t.value===e||t.values&&-1!=t.values.indexOf(e)};return i.createElement("div",{className:"tabs-container"},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},g)},d.map((function(e){var t=e.value,a=e.label;return i.createElement("li",{role:"tab",tabIndex:k===t?0:-1,"aria-selected":k===t,className:(0,l.Z)("tabs__item",s,{"tabs__item--active":k===t}),key:t,ref:function(e){return C.push(e)},onKeyDown:w,onFocus:x,onClick:x},a)}))),t?(0,i.cloneElement)(T.filter((function(e){return A(k,e.props)}))[0],{className:o}):i.createElement("div",null,T.map((function(e,t){return(0,i.cloneElement)(e,{key:t,hidden:!A(k,e.props),className:o})}))),i.createElement("br",null))}},9669:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return o},contentTitle:function(){return c},metadata:function(){return b},toc:function(){return d},default:function(){return g}});var i=a(2122),n=a(9756),r=(a(7294),a(3905)),l=a(8952),s=a(9309),u=(a(4996),a(4214),["components"]),o={},c="Targetable Abilities*",b={unversionedId:"items/targetable-abilities",id:"items/targetable-abilities",isDocsHomePage:!1,title:"Targetable Abilities*",description:"Making abilities targetable",source:"@site/docs/items/targetable-abilities.md",sourceDirName:"items",slug:"/items/targetable-abilities",permalink:"/RogueLibs/ru/docs/items/targetable-abilities",editUrl:"https://github.com/Abbysssal/RogueLibs/edit/master/website/docs/items/targetable-abilities.md",version:"current",frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Chargeable Abilities*",permalink:"/RogueLibs/ru/docs/items/chargeable-abilities"},next:{title:"Creating a Custom Trait",permalink:"/RogueLibs/ru/docs/traits/create-trait"}},d=[{value:"Making abilities targetable",id:"making-targetable",children:[]},{value:"Examples",id:"examples",children:[]}],m={toc:d};function g(e){var t=e.components,a=(0,n.Z)(e,u);return(0,r.kt)("wrapper",(0,i.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"targetable-abilities"},"Targetable Abilities*"),(0,r.kt)("h2",{id:"making-targetable"},"Making abilities targetable"),(0,r.kt)("p",null,"Just implement the ",(0,r.kt)("inlineCode",{parentName:"p"},"IAbilityTargetable")," interface in your ability's class:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:'title="MyTargetableAbility.cs"',title:'"MyTargetableAbility.cs"'},"// highlight-next-line\npublic class MyTargetableAbility : CustomAbility, IAbilityTargetable\n{\n    // highlight-next-line\n    public PlayfieldObject FindTarget() { /* ... */ }\n}\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"FindTarget")," determines the closest target, that the ability can be used on. An ability indicator will be displayed over that object. If the ability cannot be used right now, you should return ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"."),(0,r.kt)("p",null,"Then, you can use ",(0,r.kt)("inlineCode",{parentName:"p"},"CurrentTarget")," in any of the methods:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'    public override void OnPressed()\n    {\n        if (CurrentTarget is null)\n        {\n            gc.audioHandler.Play(Owner, "CantDo");\n            return;\n        }\n        /* ... */\n    }\n')),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)(l.Z,{defaultValue:"",values:[{label:"",value:""}],mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:'title=""',title:'""'},"")))))}g.isMDXComponent=!0}}]);