"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5333],{5290:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>c,default:()=>m,frontMatter:()=>u,metadata:()=>d,toc:()=>b});var i=n(5893),a=n(1151),r=n(5878),l=n(1016),s=(n(4996),n(4214));const o='namespace RogueLibsCore.Test\n{\n    public class Titan : CustomAbility, IAbilityRechargeable\n    {\n        [RLSetup]\n        public static void Setup()\n        {\n            RogueLibs.CreateCustomAbility<Titan>()\n                .WithName(new CustomNameInfo("Titan"))\n                .WithDescription(new CustomNameInfo("Willpower alone isn\'t enough in battle."))\n                .WithSprite(Properties.Resources.Titan)\n                .WithUnlock(new AbilityUnlock\n                {\n                    UnlockCost = 10,\n                    CharacterCreationCost = 10,\n                    Prerequisites = { VanillaItems.Giantizer },\n                });\n        }\n\n        public override void OnAdded() { }\n        public override void OnPressed()\n        {\n            if (Count != 0)\n            {\n                gc.audioHandler.Play(Owner, VanillaAudio.CantDo);\n                return;\n            }\n            Owner!.statusEffects.AddStatusEffect(VanillaEffects.Giant, 15);\n            Count = 30;\n        }\n        public void OnRecharging(AbilityRechargingArgs e)\n        {\n            e.UpdateDelay = 1f;\n            Count--;\n        }\n    }\n}\n',u={},c="Rechargeable Abilities",d={id:"dev/items/abilities/rechargeable-abilities",title:"Rechargeable Abilities",description:"Custom abilities can be made rechargeable by implementing the IAbilityRechargeable interface. Ability's Count here works as a cooldown and usually represents the amount of time to wait until full recharge. This interface makes use of some of the game's recharging mechanics, but it doesn't completely rely on it. I'd recommend taking a look at Recharging Items, if you need finer control.",source:"@site/docs/dev/items/abilities/rechargeable-abilities.mdx",sourceDirName:"dev/items/abilities",slug:"/dev/items/abilities/rechargeable-abilities",permalink:"/RogueLibs/docs/dev/items/abilities/rechargeable-abilities",draft:!1,unlisted:!1,editUrl:"https://github.com/Chasmical/RogueLibs/edit/main/website/docs/dev/items/abilities/rechargeable-abilities.mdx",tags:[],version:"current",frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Creating a Custom Ability",permalink:"/RogueLibs/docs/dev/items/abilities/create-ability"},next:{title:"Chargeable Abilities",permalink:"/RogueLibs/docs/dev/items/abilities/chargeable-abilities"}},h={},b=[{value:"Making abilities rechargeable",id:"making-rechargeable",level:2},{value:"Examples",id:"examples",level:2}];function g(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"rechargeable-abilities",children:"Rechargeable Abilities"}),"\n",(0,i.jsxs)(t.p,{children:["Custom abilities can be made rechargeable by implementing the ",(0,i.jsx)(t.code,{children:"IAbilityRechargeable"})," interface. Ability's ",(0,i.jsx)(t.code,{children:"Count"})," here works as a cooldown and usually represents the amount of time to wait until full recharge. This interface makes use of some of the game's recharging mechanics, but it doesn't completely rely on it. I'd recommend taking a look at ",(0,i.jsx)(t.a,{href:"/RogueLibs/docs/dev/items/recharging-items",children:"Recharging Items"}),", if you need finer control."]}),"\n","\n",(0,i.jsx)(t.h2,{id:"making-rechargeable",children:"Making abilities rechargeable"}),"\n",(0,i.jsxs)(t.p,{children:["Just implement the ",(0,i.jsx)(t.code,{children:"IAbilityRechargeable"})," interface in your ability's class:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",metastring:'title="MyRechargeableAbility.cs"',children:"// highlight-next-line\npublic class MyRechargeableAbility : CustomAbility, IAbilityRechargeable\n{\n    // highlight-next-line\n    public void OnRecharging(AbilityRechargingArgs e) { /* ... */ }\n}\n"})}),"\n",(0,i.jsx)(t.admonition,{title:"Pro-tip",type:"tip",children:(0,i.jsxs)(t.p,{children:["You can just set it to 0 when it's fully recharged and to 1 when it's recharging (you can override the displayed count if you want), and use your own cooldown mechanism instead. See ",(0,i.jsx)(t.a,{href:"../recharging-items",children:"Recharging Items"})," for more info."]})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"OnRecharging"})," works like Unity's ",(0,i.jsx)(t.code,{children:"Update"}),", but with a settable interval (default is 1 second):"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:"    public void OnRecharging(AbilityRechargingArgs e)\n    {\n        // highlight-next-line\n        e.UpdateDelay = 2f; // 1 update every 2 seconds\n        Count--;\n    }\n"})}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsxs)(t.p,{children:["You're responsible for decrementing the ability's ",(0,i.jsx)(t.code,{children:"Count"}),". So, don't forget to do that.",(0,i.jsx)(t.br,{}),"\n","Ability will stop recharging when ",(0,i.jsx)(t.code,{children:"Count"})," reaches 0. To start recharging again, just set ",(0,i.jsx)(t.code,{children:"Count"})," to any other value."]})}),"\n",(0,i.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n","\n","\n","\n",(0,i.jsx)(r.Z,{defaultValue:"titan",values:[{label:"Titan",value:"titan"}],children:(0,i.jsx)(l.Z,{value:"titan",children:(0,i.jsx)(s.Z,{children:o})})})]})}function m(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}},4214:(e,t,n)=>{n.d(t,{Z:()=>r});n(7294);var i=n(9286),a=n(5893);function r(e){let{children:t,language:n}=e;return(0,a.jsx)(i.Z,{className:"language-"+(n||"csharp"),children:t.replace(/\t/g,"    ")})}},1016:(e,t,n)=>{n.d(t,{Z:()=>a});n(7294);var i=n(5893);function a(e){let{children:t,...n}=e;return(0,i.jsx)("div",{role:"tabpanel",...n,children:t})}},5878:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(7294),a=n(6550),r=n(469),l=n(1980),s=n(7392),o=n(12);function u(e){return function(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:i,default:a}}=e;return{value:t,label:n,attributes:i,default:a}}))}function c(e){const{values:t,children:n}=e;return(0,i.useMemo)((()=>{const e=t??u(n);return function(e){const t=(0,s.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function d(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:n}=e;const r=(0,a.k6)(),s=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l._X)(s),(0,i.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(r.location.search);t.set(s,e),r.replace({...r.location,search:t.toString()})}),[s,r])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,l=c(e),[s,u]=(0,i.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!d({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const i=n.find((e=>e.default))??n[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:t,tabValues:l}))),[b,g]=h({queryString:n,groupId:a}),[m,p]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,r]=(0,o.Nk)(n);return[a,(0,i.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:a}),f=(()=>{const e=b??m;return d({value:e,tabValues:l})?e:null})();(0,r.Z)((()=>{f&&u(f)}),[f]);return{selectedValue:s,selectValue:(0,i.useCallback)((e=>{if(!d({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);u(e),g(e),p(e)}),[g,p,l]),tabValues:l}}var g=n(512);const m={tabItem:"tabItem_V91s",tabItemActive:"tabItemActive_JsUu",blink:"blink_ZPVS",tab:"tab_ntnM"};var p=n(5893);const f={left:37,right:39};function v(e){const{lazy:t,defaultValue:n,values:a,groupId:r}=e,l=i.Children.toArray(e.children),{tabValues:s,selectedValue:o,selectValue:u}=b({children:l,defaultValue:n,values:a,groupId:r}),c=[],d=e=>{const t=e.currentTarget,n=a[c.indexOf(t)].value;u(n),null!=r&&setTimeout((()=>{(function(e){const{top:t,left:n,bottom:i,right:a}=e.getBoundingClientRect(),{innerHeight:r,innerWidth:l}=window;return t>=0&&a<=l&&i<=r&&n>=0})(t)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(m.tabItemActive),setTimeout((()=>t.classList.remove(m.tabItemActive)),2e3))}),150)},h=e=>{let t;switch(e.keyCode){case f.right:{const n=c.indexOf(e.target)+1;t=c[n]||c[0];break}case f.left:{const n=c.indexOf(e.target)-1;t=c[n]||c[c.length-1];break}default:return}t.focus()},v=(e,t)=>t.value===e||t.values&&-1!=t.values.indexOf(e);return(0,p.jsxs)("div",{className:"tabs-container",children:[(0,p.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:"tabs",children:a.map((e=>{let{value:t,label:n}=e;return(0,p.jsx)("li",{role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,className:(0,g.Z)("tabs__item",m.tabItem,{"tabs__item--active":o===t}),ref:e=>e&&c.push(e),onKeyDown:h,onFocus:d,onClick:d,children:n},t)}))}),t?i.cloneElement(l.find((e=>v(o,e.props))),{className:m.tab}):(0,p.jsx)("div",{children:l.map(((e,t)=>i.cloneElement(e,{key:t,hidden:!v(o,e.props),className:m.tab})))}),(0,p.jsx)("br",{})]})}}}]);