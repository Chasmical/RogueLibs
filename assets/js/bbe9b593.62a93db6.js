"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2289],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=c(n),d=a,k=p["".concat(s,".").concat(d)]||p[d]||m[d]||r;return n?o.createElement(k,l(l({ref:t},u),{},{components:n})):o.createElement(k,l({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=p;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var c=2;c<r;c++)l[c]=n[c];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},1016:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(7462),a=n(7294);function r(e){let{children:t,...n}=e;return a.createElement("div",(0,o.Z)({role:"tabpanel"},n),t)}},250:(e,t,n)=>{n.d(t,{Z:()=>m});var o=n(7294),a=n(7094),r=n(6010);const l="tabItem_V91s",i="tabItemActive_JsUu",s="tab_ntnM";const c=37,u=39;function m(e){const{lazy:t,defaultValue:n,values:m,groupId:p}=e,{tabGroupChoices:d,setTabGroupChoices:k}=(0,a.U)(),[h,f]=(0,o.useState)(n),g=o.Children.toArray(e.children),y=[];if(null!=p){const e=d[p];null!=e&&e!==h&&m.some((t=>t.value===e))&&f(e)}const b=e=>{const t=e.currentTarget,n=y.indexOf(t),o=m[n].value;f(o),null!=p&&(k(p,o),setTimeout((()=>{(function(e){const{top:t,left:n,bottom:o,right:a}=e.getBoundingClientRect(),{innerHeight:r,innerWidth:l}=window;return t>=0&&a<=l&&o<=r&&n>=0})(t)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(i),setTimeout((()=>t.classList.remove(i)),2e3))}),150))},v=e=>{let t;switch(e.keyCode){case u:{const n=y.indexOf(e.target)+1;t=y[n]||y[0];break}case c:{const n=y.indexOf(e.target)-1;t=y[n]||y[y.length-1];break}default:return}t.focus()},C=(e,t)=>t.value===e||t.values&&-1!=t.values.indexOf(e);return o.createElement("div",{className:"tabs-container"},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:"tabs"},m.map((e=>{let{value:t,label:n}=e;return o.createElement("li",{role:"tab",tabIndex:h===t?0:-1,"aria-selected":h===t,className:(0,r.Z)("tabs__item",l,{"tabs__item--active":h===t}),key:t,ref:e=>e&&y.push(e),onKeyDown:v,onFocus:b,onClick:b},n)}))),t?o.cloneElement(g.find((e=>C(h,e.props))),{className:s}):o.createElement("div",null,g.map(((e,t)=>o.cloneElement(e,{key:t,hidden:!C(h,e.props),className:s})))),o.createElement("br",null))}},1183:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var o=n(7462),a=(n(7294),n(3905));n(250),n(1016),n(4996);const r={},l="Custom Unlocks",i={unversionedId:"dev/unlocks/custom-unlocks",id:"dev/unlocks/custom-unlocks",title:"Custom Unlocks",description:"Custom unlocks allow your custom content to be accessed through vanilla menus. Unlike other hooks, unlocks persist throughout the game, and get destroyed and created only when initially loading the game or changing save slots. RogueLibs also creates wrappers around vanilla unlocks, to ensure the compatibility of your unlocks with the vanilla ones.",source:"@site/docs/dev/unlocks/custom-unlocks.mdx",sourceDirName:"dev/unlocks",slug:"/dev/unlocks/custom-unlocks",permalink:"/RogueLibs/docs/dev/unlocks/custom-unlocks",draft:!1,editUrl:"https://github.com/SugarBarrel/RogueLibs/edit/main/website/docs/dev/unlocks/custom-unlocks.mdx",tags:[],version:"current",frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Creating a Custom Disaster",permalink:"/RogueLibs/docs/dev/disasters/create-disaster"},next:{title:"Configuring Unlocks",permalink:"/RogueLibs/docs/dev/unlocks/configuring-unlocks"}},s={},c=[{value:"Unlock classes",id:"unlock-classes",level:2},{value:"Initialization",id:"initialization",level:2}],u={toc:c};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"custom-unlocks"},"Custom Unlocks"),(0,a.kt)("p",null,"Custom unlocks allow your custom content to be accessed through vanilla menus. Unlike other hooks, unlocks persist throughout the game, and get destroyed and created only when initially loading the game or changing save slots. RogueLibs also creates wrappers around vanilla unlocks, to ensure the compatibility of your unlocks with the vanilla ones."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"UnlockWrapper")," is a flexible wrapper around a ",(0,a.kt)("inlineCode",{parentName:"p"},"Unlock")," class, and provides methods to get the unlock's name, description, image and other stuff. It is the base class for any and all custom or vanilla unlocks."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"DisplayedUnlock")," derives from the ",(0,a.kt)("inlineCode",{parentName:"p"},"UnlockWrapper")," class. It provides methods to display the unlock in the in-game menus. You can alter or augment your unlock's name and description, and even use ",(0,a.kt)("a",{parentName:"p",href:"https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/StyledText.html"},"Unity's rich text formatting"),". Note, that all rich text formatting tags have to be closed (this was introduced in one of the Unity versions)."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"You probably shouldn't implement ",(0,a.kt)("inlineCode",{parentName:"p"},"UnlockWrapper")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"DisplayedUnlock")," directly. Use the classes described below.")),(0,a.kt)("h2",{id:"unlock-classes"},"Unlock classes"),(0,a.kt)("p",null,"RogueLibs provides the following classes that you can derive from:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"ItemUnlock")," - for items;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"AbilityUnlock")," - for abilities;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"TraitUnlock")," - for traits;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"MutatorUnlock")," - for mutators;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"AgentUnlock")," - for agents;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"BigQuestUnlock")," - for agent Big Quests;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"ExtraUnlock")," - for achievements and other stuff;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"FloorUnlock")," - for floor unlocks;")),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"There's also a couple of classes that are in RogueLibs only for compatibility reasons.")),(0,a.kt)("h2",{id:"initialization"},"Initialization"),(0,a.kt)("p",null,"You can initialize your unlocks like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-csharp",metastring:'title="MyCustomItem.cs"',title:'"MyCustomItem.cs"'},'public class MyCustomItem : CustomItem\n{\n    [RLSetup]\n    public static void Setup()\n    {\n        RogueLibs.CreateCustomItem<MyCustomItem>()\n            .WithName(new CustomNameInfo("My Custom Item"))\n            .WithDescription(new CustomNameInfo("My Custom Item is very cool and does a lot of great stuff"))\n            .WithSprite(Properties.Resources.MyCustomItem)\n            // highlight-next-line\n            .WithUnlock(new ItemUnlock\n            {\n                UnlockCost = 10,\n                CharacterCreationCost = 5,\n                LoadoutCost = 4,\n            });\n    }\n}\n')),(0,a.kt)("p",null,"Or you can just initialize them directly (like in case of mutators):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-csharp"},'RogueLibs.CreateCustomUnlock(new MutatorUnlock("MyMutator"))\n    .WithName(new CustomNameInfo("Mutator Name"))\n    .WithDescription(new CustomNameInfo("Mutator Description"));\n')))}m.isMDXComponent=!0}}]);